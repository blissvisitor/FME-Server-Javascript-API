var FMECloud=(function(){var k=function(o){if(o==undefined){var n="FMECloud.js Error.  You did not specify a token in your configuration paramaters.";if(window.console&&console.log){console.log(n)}else{alert(n)}return null}if(!Array.prototype.indexOf){Array.prototype.indexOf=function(r,s){for(var q=(s||0),p=this.length;q<p;q++){if(this[q]===r){return q}}return -1}}if(typeof String.prototype.trim!=="function"){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}}var m={version:"v1",server:"https://api.fmecloud.com",token:o,xdomain:false};if(location.host!=this._config("server").split("//")[1].split("/")[0]&&navigator.appName=="Microsoft Internet Explorer"&&(navigator.appVersion.indexOf("MSIE 9")!==-1||navigator.appVersion.indexOf("MSIE 8")!==-1)){m.xdomain=true}this._config=function(p){p=p||null;if(p){return m[p]}return m};this._returnObj=function(p){return p};this._ajax=function(r,w,s,v,u,p){s=s||"GET";v=v||null;u=u||null;p=p||"json";var t;if(this._config("xdomain")){var q={error:"FMECloud.js Error.  IE8 and IE9 do not support the custom headers required for Cloud CORS requests.  Browser Not Supported.",url:r,request_type:s,parameters:v,serviceResponse:{message:"CORS Error",url:"/getting-started/cross-domain-requests"}};w(q)}else{var t=new XMLHttpRequest();t.open(s,r,true);t.setRequestHeader("Accept",p);t.setRequestHeader("Authorization","Bearer "+this._config("token"));if(u!==null){t.setRequestHeader("Content-type",u)}t.onreadystatechange=function(){var x=4;if(t.readyState==x){var z;try{z=t.responseText;if(z.length===0&&t.status==204){z='{ "delete" : "true" }'}else{if(z.length===0&&t.status==202){z='{ "value" : "true" }'}}z=JSON.parse(z)}catch(y){z=t.response}finally{w(z)}}};t.send(v)}};this._URL=function(p){p=p.replace(/{{svr}}/g,this._config("server"));p=p.replace(/{{ver}}/g,this._config("version"));return p};h()};function l(n,o){o=o||this._returnObj;var m=this._URL("{{svr}}/{{ver}}/instances");this._ajax(m,function(p){o(p)},"POST",n,"application/x-www-form-urlencoded")}function c(o,n){n=n||this._returnObj;var m=this._URL("{{svr}}/{{ver}}/instances/"+o+"/pause");this._ajax(m,function(p){n(p)},"PUT")}function j(o,n){n=n||this._returnObj;var m=this._URL("{{svr}}/{{ver}}/instances/"+o+"/start");this._ajax(m,function(p){n(p)},"PUT")}function b(o,n){n=n||this._returnObj;var m=this._URL("{{svr}}/{{ver}}/instances/"+o+"/restart");this._ajax(m,function(p){n(p)},"PUT")}function i(o,n){n=n||this._returnObj;var m=this._URL("{{svr}}/{{ver}}/instances/"+o+"/terminate");this._ajax(m,function(p){n(p)},"PUT")}function f(n){n=n||this._returnObj;var m=this._URL("{{svr}}/{{ver}}/instances");this._ajax(m,function(o){n(o)})}function d(o,n){n=n||this._returnObj;var m=this._URL("{{svr}}/{{ver}}/instances/"+o);this._ajax(m,function(p){n(p)})}function a(o,n){n=n||this._returnObj;var m=this._URL("{{svr}}/{{ver}}/instances/"+o+"/credentials");this._ajax(m,function(p){n(p)})}function e(n){n=n||this._returnObj;var m=this._URL("{{svr}}/{{ver}}/account/balance");this._ajax(m,function(o){n(o)})}function g(n){n=n||this._returnObj;var m=this._URL("{{svr}}/{{ver}}/fme_server_version.json");this._ajax(m,function(o){n(o)})}function h(){k.prototype.launchInstance=l;k.prototype.pauseInstance=c;k.prototype.startInstance=j;k.prototype.restartInstance=b;k.prototype.terminateInstance=i;k.prototype.getInstances=f;k.prototype.getInstance=d;k.prototype.getCredentials=a;k.prototype.checkBalance=e;k.prototype.getVersions=g}return k}());